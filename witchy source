--// Load Rayfield UI
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

--// Create Window
local Window = Rayfield:CreateWindow({
   Name = "Baddies Caribbean | Witches Brew",
   LoadingTitle = "Baddies Caribbean",
   LoadingSubtitle = "by Jace x",
   Theme = "Purple", -- Set GUI theme to Purple

   KeySystem = true,
   KeySettings = {
      Title = "Witches Brew Key",
      Subtitle = "discord.gg/yourserver",
      Note = "Type WitchesBrew to access",
      FileName = "WitchesBrew",
      SaveKey = false,
      GrabKeyFromSite = false,
      Key = {"WitchesBrew"}
   }
})

--// Create Tabs
local MainTab = Window:CreateTab("Main", nil)
local CastleTab = Window:CreateTab("Castle", nil)

local MainSection = MainTab:CreateSection("Combat")
local CastleSection = CastleTab:CreateSection("Sky Castle")

--// Rush All
MainTab:CreateKeybind({
   Name = "Rush All",
   CurrentKeybind = "T",
   HoldToInteract = false,
   Callback = function()
      local Players = game:GetService("Players")
      local ReplicatedStorage = game:GetService("ReplicatedStorage")
      for _, player in ipairs(Players:GetPlayers()) do
         if player ~= Players.LocalPlayer then
            ReplicatedStorage.events.DuoPlrEvents:FireServer("Rush", player.Name)
         end
      end
   end,
})

--// Headlock All
MainTab:CreateKeybind({
   Name = "Headlock All",
   CurrentKeybind = "R",
   HoldToInteract = false,
   Callback = function()
      local Players = game:GetService("Players")
      local ReplicatedStorage = game:GetService("ReplicatedStorage")
      for _, player in ipairs(Players:GetPlayers()) do
         if player ~= Players.LocalPlayer then
            ReplicatedStorage.events.DuoPlrEvents:FireServer("DamageTool", player.Name)
         end
      end
   end,
})

--// Money Gain
MainTab:CreateButton({
   Name = "Gain Infinite Money",
   Callback = function()
      local args = {1e16}
      game.ReplicatedStorage.events.MoneyGain:FireServer(unpack(args))
   end,
})

--// Infinite Yield
MainTab:CreateButton({
   Name = "Infinite Yield",
   Callback = function()
      loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
   end,
})

--// Lose Fight
MainTab:CreateButton({
   Name = "Lose Fight",
   Callback = function()
      game.ReplicatedStorage.events.SoloPlrEvents:FireServer("LooseFight")
   end,
})

--// Kill All
MainTab:CreateButton({
   Name = "Kill All",
   Callback = function()
      local Players = game:GetService("Players")
      local ReplicatedStorage = game:GetService("ReplicatedStorage")
      for _, player in ipairs(Players:GetPlayers()) do
         if player ~= Players.LocalPlayer then
            ReplicatedStorage.events.DuoPlrEvents:FireServer("DamageTool", player.Name)
         end
      end
      
      local StarterGui = game:GetService("StarterGui")
      StarterGui:SetCore("SendNotification", {
         Title = "Baddie Attack",
         Text = "SUFFER.",
         Duration = 2
      })

      local char = Players.LocalPlayer.Character
      if char and char:FindFirstChild("HumanoidRootPart") then
         local explosion = Instance.new("Explosion")
         explosion.Position = char.HumanoidRootPart.Position
         explosion.BlastRadius = 10
         explosion.BlastPressure = 50000
         explosion.Parent = workspace
      end

      task.wait(1.2)
      Players.LocalPlayer.Character:BreakJoints()
   end,
})

--// Mace All
MainTab:CreateButton({
   Name = "Mace All",
   Callback = function()
      local Players = game:GetService("Players")
      local ReplicatedStorage = game:GetService("ReplicatedStorage")
      for _, player in ipairs(Players:GetPlayers()) do
         if player ~= Players.LocalPlayer then
            ReplicatedStorage.events.DuoPlrEvents:FireServer("Rush", player.Name)
            task.wait(0.1)
            ReplicatedStorage.events.DuoPlrEvents:FireServer("Fire", player.Name)
         end
      end
   end,
})

--// Create Castle
local function createCastle()
   local castle = Instance.new("Model", workspace)
   castle.Name = "FloatingCastle"

   -- Main Platform
   local platform = Instance.new("Part", castle)
   platform.Size = Vector3.new(80,2,80)
   platform.Anchored = true
   platform.Position = Vector3.new(0,400,0)
   platform.BrickColor = BrickColor.new("Royal purple")

   -- Throne
   local throne = Instance.new("Part", castle)
   throne.Size = Vector3.new(6,8,6)
   throne.Position = platform.Position + Vector3.new(0,6,0)
   throne.Anchored = true
   throne.BrickColor = BrickColor.new("Really black")

   -- Throne Seat
   local seat = Instance.new("Seat", castle)
   seat.Size = Vector3.new(4,1,4)
   seat.Position = throne.Position + Vector3.new(0,4,0)
   seat.Anchored = true
   seat.BrickColor = BrickColor.new("Royal purple")

   -- Purple Smoke
   local smoke = Instance.new("ParticleEmitter", platform)
   smoke.Color = ColorSequence.new(Color3.fromRGB(128, 0, 128))
   smoke.Size = NumberSequence.new(5)
   smoke.Rate = 100
   smoke.Lifetime = NumberRange.new(3)
   smoke.Speed = NumberRange.new(2)
end

createCastle()

--// Teleport to Castle Button
CastleTab:CreateButton({
   Name = "Teleport to Castle",
   Callback = function()
      local char = game.Players.LocalPlayer.Character
      if char and char:FindFirstChild("HumanoidRootPart") then
         char.HumanoidRootPart.CFrame = CFrame.new(0,405,0)
      end
   end,
})
